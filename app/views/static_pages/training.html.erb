<% provide(:title, 'Music Training') %>
<div class="container bodycontainer" id="trainingcontainer" ng-app="Quiz" ng-controller="TheoryCtrl">
  <div class="row" id="checkrow" ng-show=" $state.current.name === 'ear'">
    <div class="navbar navbar-default" role="navigation">
      <div id="optionsbox">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#checkcolumn">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <h1 id= "options-title"> Options</h1>
        </div>
        <div class= 'navbar-collapse collapse' id="checkcolumn">
          <label>
            <input type="checkbox" id= "randomKeys"> 
            <p> Random keys </p>
          </label>
          <label>
            <input type="checkbox" id= "major" checked> 
            <p>Major intervals</p>
          </label>
          <label>
            <input type="checkbox" id= "minor"> 
            <p>Minor intervals</p>
          </label>
          <label>
            <input type="checkbox" id= "other"> 
            <p>Perfect intervals</p>
          </label>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
        <div class= 'text-center'>
          <div class="btn-group" id= 'typeQuiz'>
            <button type="button" class="btn btn-default  quiz ear-quiz" ng-class="{'currentQuiz': $stateParams.questionType === 'intervals'}" ng-click="changeQuestionType('intervals')">Intervals</button>
            <button type="button" class="btn btn-default quiz ear-quiz" ng-class="{'currentQuiz': $stateParams.questionType === 'chords'}" ng-click="changeQuestionType('chords')">Chords</button>
            <button type="button" class="btn btn-default quiz ear-quiz" ng-class="{'currentQuiz': $stateParams.questionType === 'scales'}" ng-click="changeQuestionType('scales')">Scales</button>
          </div>
          <div class="row">
          <div class="btn-group" id= 'typeTraining'>
            <button type="button" id='earTraining' class="btn btn-default" ng-class="{'currentTraining': $state.current.name === 'ear'}" ng-click="changeTrainingType('ear')">Ear Training</button>
            <button type="button" id='theoryTraining' class="btn btn-default"  ng-class="{'currentTraining': $state.current.name === 'theory'}" ng-click="changeTrainingType('theory')">Theory Training</button>
          </div>
          </div>
          <p id="performance" class="text-center">Use Google Chrome for best performance. Confused? Check out <%= link_to "getting started", getting_started_path %></p>
          <div class="row" id="quizrow">
            <div class="btn-group" id= 'play'>
              <button type="button" id= 'quiz' class= 'btn btn-default btn-md quiz ear-quiz' ng-click='quiz($state.current.name)'>Quiz me!</button>
            </div>
            <div id='quizbody' ng-show="question">
              <div class="question" ng-show="question === 'intervalQuestion'">What is the name of the 
                <div class="btn-group dropup">
                  <button type='button' id= 'intervaldrop' class='btn btn-default dropdown-toggle' data-toggle="dropdown" >Interval<span class='caret'></span></button>
                  <ul class="dropdown-menu" id="interval_list">
                    <li>
                      <div id="interval_box" class='row'>
                        <ul class='list-unstyled col-xs-6'>
                          <li ng-repeat="interval in intervals.slice(0,6)">
                            <a href='#' ng-click="selectInterval(interval)" class= 'interval_choice'>{{interval}}</a>
                          </li>
                        </ul>
                      <ul class='list-unstyled col-xs-6'>
                        <li ng-repeat="interval in intervals.slice(6,12)">
                          <a href='#' ng-click="selectInterval(interval)" class= 'interval_choice'>{{interval}}</a>
                        </li>
                      </ul>
                      </div>
                    </li>
                  </ul>
                </div>
                ascending from {{first_note}} to {{second_note}}?
              </div>
              <div class="question" ng-show="question !== 'intervalQuestion'" ng-bind-html='question'></div>
              <div id= "evaluation" >
                <p id="sorry" ng-show="evaluation === false"> Sorry, try again </p>
              </div>
              <form id="quizform" ><input ng-model="answer" type="text" id="answer" autocomplete="off">
                <button class="btn btn-sm btn-{{quizBtnState}}"  id="{{quizBtnText | lowercase}}answer" ng-click="evaluateAnswer()">{{quizBtnText}}</button>
              </form>
            </div>
          </div>
        </div>
    </div>   
  </div>
</div>